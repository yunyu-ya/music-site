<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>宇夜的音樂作品集</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: white;
      background: url('https://github.com/yunyu-ya/music-site/blob/f98cfd4f8515fd944b846bb7c7749272acdd8a8a/NSHM_PHOTO_2025_3_2_21_33_10.jpg') no-repeat center center/cover;
    }
    header {
      text-align: center;
      padding: 1rem;
    }
    .subtitle {
      font-size: 1.2rem;
      color: #ccc;
    }
    main {
      padding: 1rem;
      max-width: 800px;
      margin: auto;
    }
    .track {
      background: rgba(0,0,0,0.6);
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 10px;
    }
    button.play-btn {
      background: linear-gradient(45deg, #ff512f, #dd2476);
      border: none;
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 25px;
      cursor: pointer;
      user-select: none;
      min-width: 70px;
      font-weight: bold;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    button.play-btn:hover {
      filter: brightness(1.15);
      transform: scale(1.05);
    }
    button.play-btn.playing {
      background: linear-gradient(45deg, #c31432, #240b36);
    }
    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    #main-play-btn,
    #prev-btn,
    #next-btn {
      background: linear-gradient(45deg, #36d1dc, #5b86e5);
      border: none;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    #main-play-btn:hover,
    #prev-btn:hover,
    #next-btn:hover {
      filter: brightness(1.15);
      transform: scale(1.1);
    }
    #progress-container {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    #progress {
      flex: 1;
    }
    #volume {
      width: 100px;
    }
  </style>
</head>
<body>
  <header>
    <h1>宇夜</h1>
    <p class="subtitle">一起聽聽不一樣的味道</p>
  </header>

  <main>
    <section class="track" data-audio="《深井》.mp3">
      <h2>《深井》</h2>
      <button class="play-btn" aria-label="播放 《深井》">▶️ Play</button>
      <p>融入日系風味的旋律，帶有濃厚的情感。</p>
    </section>

    <section class="track" data-audio="《聽不見你了》-男女合唱.mp3">
      <h2>《聽不見你了》-男女合唱</h2>
      <button class="play-btn" aria-label="播放 《聽不見你了》-男女合唱">▶️ Play</button>
      <p>一首感性的作品，男女深情對唱。</p>
    </section>

    <section class="track" data-audio="《最後一頁》.mp3">
      <h2>《最後一頁》</h2>
      <button class="play-btn" aria-label="播放 《最後一頁》">▶️ Play</button>
      <p>帶有故事感的旋律，帶你翻開最後一頁。</p>
    </section>

    <section class="track" data-audio="《當你不記得我》 .mp3">
      <h2>《當你不記得我》</h2>
      <button class="play-btn" aria-label="播放 《當你不記得我》">▶️ Play</button>
      <p>感傷的抒情曲，觸動心弦。</p>
    </section>

    <div class="controls">
      <button id="prev-btn">⏮</button>
      <button id="main-play-btn">▶️</button>
      <button id="next-btn">⏭</button>
    </div>

    <div id="progress-container">
      <span id="current-time">0:00</span>
      <input type="range" id="progress" value="0" min="0" max="100">
      <span id="duration">0:00</span>
    </div>

    <div id="volume-container">
      音量：<input type="range" id="volume" min="0" max="1" step="0.01" value="1">
    </div>
  </main>

  <audio id="audio-player"></audio>

  <script>
    const audioPlayer = document.getElementById('audio-player');
    const playButtons = document.querySelectorAll('.play-btn');
    let currentPlayingBtn = null;

    const getFileName = url => decodeURIComponent(url.substring(url.lastIndexOf('/') + 1));

    playButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const track = btn.closest('.track');
        const audioSrc = track.getAttribute('data-audio');
        const currentSrc = getFileName(audioPlayer.src);

        if (audioPlayer.src && currentSrc === audioSrc && !audioPlayer.paused) {
          audioPlayer.pause();
          updateButton(btn, false);
          currentPlayingBtn = null;
          return;
        }

        audioPlayer.src = audioSrc;
        audioPlayer.play().catch(() => {
          alert('無法載入音樂檔案！');
          updateButton(btn, false);
        });

        if (currentPlayingBtn && currentPlayingBtn !== btn) {
          updateButton(currentPlayingBtn, false);
        }

        updateButton(btn, true);
        currentPlayingBtn = btn;
      });
    });

    audioPlayer.addEventListener('ended', () => {
      if (currentPlayingBtn) {
        updateButton(currentPlayingBtn, false);
        currentPlayingBtn = null;
      }
    });

    function updateButton(button, isPlaying) {
      button.textContent = isPlaying ? '⏸ Pause' : '▶️ Play';
      button.classList.toggle('playing', isPlaying);
    }

    // 進度條與音量控制
    const progress = document.getElementById('progress');
    const currentTimeEl = document.getElementById('current-time');
    const durationEl = document.getElementById('duration');
    const volume = document.getElementById('volume');

    audioPlayer.addEventListener('timeupdate', () => {
      if (audioPlayer.duration) {
        progress.value = (audioPlayer.currentTime / audioPlayer.duration) * 100;
        currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
        durationEl.textContent = formatTime(audioPlayer.duration);
      }
    });

    progress.addEventListener('input', () => {
      audioPlayer.currentTime = (progress.value / 100) * audioPlayer.duration;
    });

    volume.addEventListener('input', () => {
      audioPlayer.volume = volume.value;
    });

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
    }
  </script>
</body>
</html>


